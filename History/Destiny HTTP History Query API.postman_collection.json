{
	"info": {
		"_postman_id": "60f23775-8d9f-480a-b0c7-a4074b523886",
		"name": "Destiny HTTP History Query API",
		"description": "# Introduction\n\nWelcome to the History Query API documentation. This API provides the means \nto gain access to historically captured telemetry, trip and summary data for all \nthe vehicles and units available to you.\n\nThe API uses the same authentication as the regular HTTP API and therefore does\nnot require a separate login request.\n\n# Request URL Instructions\n\nArguments within the queries are indicated with curly braces (`{` and `}`) but the\ncurly braces should not be included, for example, if the example looks like this:\n\n```\napi/v1/history/telemetry/unit/{unit_id}/date/{date}/from/{from}/to/{to}\n```\n\nthen the actual request will look something like this:\n\n```\napi/v1/history/telemetry/unit/1/date/2021-04-30/from/08:00:00/to/17:00:00\n```\n\n# Common URL Arguments\n\n* `unit_id`: A particular unit's database id.\n* `vehicle_id`: A particular vehicle's database id (usually with an accompanying \n  `assigned_as` argument).\n* `assigned_as`: A string indicating the `primary`, `backup_1` or `backup_2` unit\n  that is assigned to the vehicle.\n* `client_id`: A particular client's database id.\n* `group_id`: Either a vehicle group's or unit group's database id.  \n* `from_date`: A particular date in the format `YYYY-MM-DD` (e.g. `2020-04-30`)\n* `to_date`: A particular date in the format `YYYY-MM-DD` (e.g. `2020-04-30`)\n* `from_time`: A time in a 24-hour format `HH:MM:SS` (e.g. `17:30:45`).\n* `to_time`: A time in a 24-hour format `HH:MM:SS` (e.g. `17:30:45`).\n\n# Request Results\n\nThese results are returned in the same format as regular HTTP API GET requests, for\nexample:\n\n```json\n{\n  \"data\": []\n}\n```",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Vehicle History",
			"item": [
				{
					"name": "Get Vehicle Trip History (All)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{http}}://{{domain}}/api/v1/history/trips/vehicle/{{vehicle_id}}/primary/date/{{date}}/all",
							"protocol": "{{http}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"history",
								"trips",
								"vehicle",
								"{{vehicle_id}}",
								"primary",
								"date",
								"{{date}}",
								"all"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Vehicle Trip History (First)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{http}}://{{domain}}/api/v1/history/trips/vehicle/{{vehicle_id}}/primary/date/{{date}}/all",
							"protocol": "{{http}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"history",
								"trips",
								"vehicle",
								"{{vehicle_id}}",
								"primary",
								"date",
								"{{date}}",
								"all"
							],
							"query": [
								{
									"key": "",
									"value": "",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Vehicle Trip History (Last)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{http}}://{{domain}}/api/v1/history/trips/vehicle/{{vehicle_id}}/primary/date/{{date}}/last",
							"protocol": "{{http}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"history",
								"trips",
								"vehicle",
								"{{vehicle_id}}",
								"primary",
								"date",
								"{{date}}",
								"last"
							],
							"query": [
								{
									"key": "",
									"value": "",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Vehicle Telemetry (All)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{http}}://{{domain}}/api/v1/history/telemetry/vehicle/{{vehicle_id}}/primary/date/{{date}}?_fields=gps.local_time,gps.timestamp,gps.latitude,gps.longitude,gps.speed,gps.heading",
							"protocol": "{{http}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"history",
								"telemetry",
								"vehicle",
								"{{vehicle_id}}",
								"primary",
								"date",
								"{{date}}"
							],
							"query": [
								{
									"key": "_fields",
									"value": "gps.local_time,gps.timestamp,gps.latitude,gps.longitude,gps.speed,gps.heading"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Vehicle Trip Telemetry (Time Range)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{http}}://{{domain}}/api/v1/history/trips/telemetry/vehicle/{{vehicle_id}}/primary/date/{{date}}/from/{{from}}/to/{{to}}?_fields=gps.local_time,gps.timestamp,gps.latitude,gps.longitude,gps.speed,gps.heading",
							"protocol": "{{http}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"history",
								"trips",
								"telemetry",
								"vehicle",
								"{{vehicle_id}}",
								"primary",
								"date",
								"{{date}}",
								"from",
								"{{from}}",
								"to",
								"{{to}}"
							],
							"query": [
								{
									"key": "_fields",
									"value": "gps.local_time,gps.timestamp,gps.latitude,gps.longitude,gps.speed,gps.heading"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Vehicle Trip Telemetry (Period)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{http}}://{{domain}}/api/v1/history/trips/telemetry/vehicle/{{vehicle_id}}/primary/period/from/{{from_date}}/time/{{from}}/to/{{to_date}}/time/{{to}}?_fields=gps.local_time,gps.timestamp,gps.latitude,gps.longitude,gps.speed,gps.heading",
							"protocol": "{{http}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"history",
								"trips",
								"telemetry",
								"vehicle",
								"{{vehicle_id}}",
								"primary",
								"period",
								"from",
								"{{from_date}}",
								"time",
								"{{from}}",
								"to",
								"{{to_date}}",
								"time",
								"{{to}}"
							],
							"query": [
								{
									"key": "_fields",
									"value": "gps.local_time,gps.timestamp,gps.latitude,gps.longitude,gps.speed,gps.heading"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Vehicle Trip Telemetry By Date",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{http}}://{{domain}}/api/v1/history/trips/telemetry/vehicle/{{vehicle_id}}/primary/date/{{date}}?_fields=gps.local_time,gps.timestamp,gps.latitude,gps.longitude,gps.speed,gps.heading",
							"protocol": "{{http}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"history",
								"trips",
								"telemetry",
								"vehicle",
								"{{vehicle_id}}",
								"primary",
								"date",
								"{{date}}"
							],
							"query": [
								{
									"key": "_fields",
									"value": "gps.local_time,gps.timestamp,gps.latitude,gps.longitude,gps.speed,gps.heading"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Vehicle Telemetry (Time Range)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{http}}://{{domain}}/api/v1/history/telemetry/vehicle/{{vehicle_id}}/primary/date/{{date}}/from/{{from}}/to/{{to}}?_fields=gps.local_time,gps.timestamp,gps.latitude,gps.longitude,gps.speed,gps.heading",
							"protocol": "{{http}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"history",
								"telemetry",
								"vehicle",
								"{{vehicle_id}}",
								"primary",
								"date",
								"{{date}}",
								"from",
								"{{from}}",
								"to",
								"{{to}}"
							],
							"query": [
								{
									"key": "_fields",
									"value": "gps.local_time,gps.timestamp,gps.latitude,gps.longitude,gps.speed,gps.heading"
								},
								{
									"key": "",
									"value": "",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Vehicle Daily Summary",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{http}}://{{domain}}/api/v1/history/summary/vehicle/{{vehicle_id}}/primary/from/{{from_date}}/to/{{to_date}}",
							"protocol": "{{http}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"history",
								"summary",
								"vehicle",
								"{{vehicle_id}}",
								"primary",
								"from",
								"{{from_date}}",
								"to",
								"{{to_date}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Unit History",
			"item": [
				{
					"name": "Get Unit Trip History (All)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{http}}://{{domain}}/api/v1/history/trips/unit/{{unit_id}}/date/{{date}}/all",
							"protocol": "{{http}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"history",
								"trips",
								"unit",
								"{{unit_id}}",
								"date",
								"{{date}}",
								"all"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Unit Trip History (First)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{http}}://{{domain}}/api/v1/history/trips/unit/{{unit_id}}/date/{{date}}/first",
							"protocol": "{{http}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"history",
								"trips",
								"unit",
								"{{unit_id}}",
								"date",
								"{{date}}",
								"first"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Unit Trip History (Last)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{http}}://{{domain}}/api/v1/history/trips/unit/{{unit_id}}/date/{{date}}/last",
							"protocol": "{{http}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"history",
								"trips",
								"unit",
								"{{unit_id}}",
								"date",
								"{{date}}",
								"last"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Unit Telemetry (All)",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{http}}://{{domain}}/api/v1/history/telemetry/unit/{{unit_id}}/date/{{date}}?_fields=gps.local_time,gps.speed,events&_query=gps.speed>0",
							"protocol": "{{http}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"history",
								"telemetry",
								"unit",
								"{{unit_id}}",
								"date",
								"{{date}}"
							],
							"query": [
								{
									"key": "_fields",
									"value": "gps.local_time,gps.speed,events"
								},
								{
									"key": "_query",
									"value": "gps.speed>0"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Unit Trip Telemetry (Time Range)",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{http}}://{{domain}}/api/v1/history/trips/telemetry/unit/{{unit_id}}/date/{{date}}/from/{{from}}/to/{{to}}?_fields=gps.local_time,gps.timestamp,gps.latitude,gps.longitude,gps.speed,gps.heading",
							"protocol": "{{http}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"history",
								"trips",
								"telemetry",
								"unit",
								"{{unit_id}}",
								"date",
								"{{date}}",
								"from",
								"{{from}}",
								"to",
								"{{to}}"
							],
							"query": [
								{
									"key": "_fields",
									"value": "gps.local_time,gps.timestamp,gps.latitude,gps.longitude,gps.speed,gps.heading"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Unit Trip Telemetry (Period)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{http}}://{{domain}}/api/v1/history/trips/telemetry/unit/{{unit_id}}/period/from/{{from_date}}/time/{{from}}/to/{{to_date}}/time/{{to}}?_fields=gps.local_time,gps.timestamp,gps.latitude,gps.longitude,gps.speed,gps.heading",
							"protocol": "{{http}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"history",
								"trips",
								"telemetry",
								"unit",
								"{{unit_id}}",
								"period",
								"from",
								"{{from_date}}",
								"time",
								"{{from}}",
								"to",
								"{{to_date}}",
								"time",
								"{{to}}"
							],
							"query": [
								{
									"key": "_fields",
									"value": "gps.local_time,gps.timestamp,gps.latitude,gps.longitude,gps.speed,gps.heading"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Unit Trip Telemetry By Date",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{http}}://{{domain}}/api/v1/history/trips/telemetry/unit/{{unit_id}}/date/{{date}}?_fields=gps.local_time,gps.timestamp,gps.latitude,gps.longitude,gps.speed,gps.heading",
							"protocol": "{{http}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"history",
								"trips",
								"telemetry",
								"unit",
								"{{unit_id}}",
								"date",
								"{{date}}"
							],
							"query": [
								{
									"key": "_fields",
									"value": "gps.local_time,gps.timestamp,gps.latitude,gps.longitude,gps.speed,gps.heading"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Unit Telemetry (Time Ranged)",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{http}}://{{domain}}/api/v1/history/telemetry/unit/{{unit_id}}/date/{{date}}/from/{{from}}/to/{{to}}?_fields=gps.local_time,gps.timestamp,gps.latitude,gps.longitude,gps.speed,gps.heading",
							"protocol": "{{http}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"history",
								"telemetry",
								"unit",
								"{{unit_id}}",
								"date",
								"{{date}}",
								"from",
								"{{from}}",
								"to",
								"{{to}}"
							],
							"query": [
								{
									"key": "_fields",
									"value": "gps.local_time,gps.timestamp,gps.latitude,gps.longitude,gps.speed,gps.heading"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Unit Daily History",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{http}}://{{domain}}/api/v1/history/summary/unit/{{unit_id}}/from/{{from_date}}/to/{{to_date}}",
							"protocol": "{{http}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"history",
								"summary",
								"unit",
								"{{unit_id}}",
								"from",
								"{{from_date}}",
								"to",
								"{{to_date}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Unit Status",
			"item": [
				{
					"name": "Get Unit Status",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://www.destiny.test/api/v1/history/status/units",
							"protocol": "http",
							"host": [
								"www",
								"destiny",
								"test"
							],
							"path": [
								"api",
								"v1",
								"history",
								"status",
								"units"
							]
						},
						"description": "Returns the current status of all accessable units."
					},
					"response": []
				}
			]
		},
		{
			"name": "Vehicle Summaries",
			"item": [
				{
					"name": "Get Vehicle Group Distances",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{http}}://{{domain}}/api/v1/history/summary/vehicles/distances/by-vehicle-group/1/client/{{client_id}}/date/{{date}}/period/{{period}}?limit=20",
							"protocol": "{{http}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"history",
								"summary",
								"vehicles",
								"distances",
								"by-vehicle-group",
								"1",
								"client",
								"{{client_id}}",
								"date",
								"{{date}}",
								"period",
								"{{period}}"
							],
							"query": [
								{
									"key": "limit",
									"value": "20"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Client Vehicles Distances",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{http}}://{{domain}}/api/v1/history/summary/vehicles/distances/by-client/{{client_id}}/date/{{date}}/period/{{period}}",
							"protocol": "{{http}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"history",
								"summary",
								"vehicles",
								"distances",
								"by-client",
								"{{client_id}}",
								"date",
								"{{date}}",
								"period",
								"{{period}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Unit Summaries",
			"item": [
				{
					"name": "Get Client Unit Distances",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{http}}://{{domain}}/api/v1/history/summary/units/distances/by-client/{{client_id}}/date/{{date}}/period/this-month",
							"protocol": "{{http}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"history",
								"summary",
								"units",
								"distances",
								"by-client",
								"{{client_id}}",
								"date",
								"{{date}}",
								"period",
								"this-month"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Unit Group Distances",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{http}}://{{domain}}/api/v1/history/summary/units/distances/by-unit-group/18/client/{{client_id}}/date/{{date}}/period/{{period}}?limit=20",
							"protocol": "{{http}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"history",
								"summary",
								"units",
								"distances",
								"by-unit-group",
								"18",
								"client",
								"{{client_id}}",
								"date",
								"{{date}}",
								"period",
								"{{period}}"
							],
							"query": [
								{
									"key": "limit",
									"value": "20"
								}
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{bearer}}",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "http",
			"value": "https"
		},
		{
			"key": "domain",
			"value": "www.acmdestiny.net"
		},
		{
			"key": "username",
			"value": "don.admin"
		},
		{
			"key": "password",
			"value": "CompL#t1on"
		},
		{
			"key": "bearer",
			"value": ""
		},
		{
			"key": "vehicle_id",
			"value": "33"
		},
		{
			"key": "unit_id",
			"value": "39"
		},
		{
			"key": "date",
			"value": "2020-02-07"
		},
		{
			"key": "from",
			"value": "00:00:00"
		},
		{
			"key": "to",
			"value": "23:59:59"
		},
		{
			"key": "from_date",
			"value": ""
		},
		{
			"key": "to_date",
			"value": ""
		},
		{
			"key": "client_id",
			"value": ""
		},
		{
			"key": "period",
			"value": ""
		}
	]
}